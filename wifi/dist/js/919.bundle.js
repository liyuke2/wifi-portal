(self.webpackChunkwifi=self.webpackChunkwifi||[]).push([[919],{293:(n,t,e)=>{"use strict";e.d(t,{Z:()=>a});var i=e(549),s=e.n(i),A=e(165),l=e.n(A)()(s());l.push([n.id,"\n.content[data-v-9b43d540]{\n  background: #F2F2F2;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-family: PingFang SC;\n}\n.titlebar[data-v-9b43d540]{\n  height: 44px;\n  font-size: 17px;\n  font-weight: 500;\n  line-height: 44px;\n  color: #000000;\n  text-align: center;\n  background: white;\n  border-bottom: 0.5px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 1;\n  box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.3);\n}\n.body[data-v-9b43d540]{\n  height: 0;\n  flex: 1;\n  width: 100%;\n  overflow-y: scroll;\n}\n.titlebar span[data-v-9b43d540]{\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  border-radius: 50%;\n}\n.titlebar span[data-v-9b43d540]:active{\n  background: rgba(0,0,0,0.3);\n}\n.titlebar span[data-v-9b43d540]::before{\n  content: '';\n  display: block;\n  width: 8px;\n  height: 8px;\n  border-top: 2px solid #888888;\n  border-right: 2px solid #888888;\n  transform: rotateZ(225deg);\n  margin: 15px;\n}\n.subtitle[data-v-9b43d540]{\n  height: 54px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 54px;\n  color: #383838;\n  padding: 0 16px;\n  overflow: hidden;\n}\n.input1[data-v-9b43d540]{\n  width: 100%;\n  height: 80px;\n  background: white;\n  overflow: hidden;\n  margin-bottom: 18px;\n}\n.input1 textarea[data-v-9b43d540]{\n  display: block;\n  margin: 16px;\n  outline: none;\n  border: none;\n  width: calc(100% - 32px);\n  height: 48px;\n  font-family: PingFang SC;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 22px;\n  color: #333333;\n}\n.input1 textarea[data-v-9b43d540]::placeholder{\n  color: #B2B2B2;\n}\n.itemarea[data-v-9b43d540]{\n  background: white;\n  width: 100%;\n}\n.item[data-v-9b43d540]{\n  display: flex;\n  flex-direction: row;\n  margin-left: 16px;\n  height: 56px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n}\n.item[data-v-9b43d540]:last-child{\n  border-bottom: none;\n}\n.item span[data-v-9b43d540]{\n  display: inline-block;\n  height: 56px;\n  width: 21px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 56px;\n  color: #383838;\n}\n.item input[data-v-9b43d540]{\n  height: 100%;\n  width: 0;\n  flex: 1;\n  outline: none;\n  border: none;\n  padding: 0 6px;\n}\n.item input[data-v-9b43d540]::placeholder{\n  font-size: 16px;\n  font-weight: 400;\n  color: #B2B2B2;\n}\n.item li[data-v-9b43d540]{\n  list-style:none;\n  display: block;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #333333;\n  border-radius: 50%;\n}\n.item li[data-v-9b43d540]::before{\n  content: '';\n  display: block;\n  width: 12px;\n  height: 2px;\n  background: #333333;\n  position: absolute;\n  top: 9px;\n  right: 4px;\n}\n.add[data-v-9b43d540]{\n  height: 54px;\n  width: 100%;\n  position: relative;\n}\n.add span[data-v-9b43d540]{\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #333333;\n  border-radius: 50%;\n}\n.add span[data-v-9b43d540]::before{\n  content: '';\n  display: block;\n  width: 12px;\n  height: 2px;\n  background: #333333;\n  position: absolute;\n  top: 9px;\n  right: 4px;\n}\n.add span[data-v-9b43d540]::after{\n  content: '';\n  display: block;\n  width: 2px;\n  height: 12px;\n  background: #333333;\n  position: absolute;\n  top: 4px;\n  right: 9px;\n}\n.selectitem[data-v-9b43d540]{\n  display: block;\n  height: 56px;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 56px;\n  color: #383838;\n  padding-left: 16px;\n  background: white;\n  position: relative;\n}\n.selectitem span[data-v-9b43d540]{\n  height: 56px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 56px;\n  color: #0F5DFB;\n  float: right;\n  margin-right: 40px;\n  max-width: 200px;\n  overflow: hidden;\n}\n.selectitem[data-v-9b43d540]::after{\n  content: '';\n  display: block;\n  width: 8px;\n  height: 8px;\n  border-top: 2px solid #888888;\n  border-right: 2px solid #888888;\n  position: absolute;\n  top: 23px;\n  right: 21px;\n  transform: rotateZ(45deg);\n}\n.submit[data-v-9b43d540]{\n  height: 56px;\n  margin: 20px 16px 34px 16px;\n  background: #acc4f4;\n  border-radius: 12px;\n  font-size: 20px;\n  font-family: PingFang SC;\n  font-weight: 500;\n  line-height: 56px;\n  color: #FFFFFF;\n  text-align: center;\n}\n.submit-on[data-v-9b43d540]{\n  background: #0F5DFB;\n}\n.submit-on[data-v-9b43d540]:active{\n  background: #0d45b4;\n}\n.dialog[data-v-9b43d540]{\n  display: block;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  background: rgba(0,0,0,0.3);\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.items[data-v-9b43d540]{\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: white;\n  top: 50%;\n  left: 32px;\n  right: 32px;\n  width: calc(100% - 64px);\n  max-height: calc(100% - 64px);\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.3);\n  transform: translateY(-50%);\n  overflow-y: scroll;\n}\n.dia_title[data-v-9b43d540]{\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.dia_title input[data-v-9b43d540]{\n  width: 16px;\n  height: 16px;\n  margin: 14px 10px 14px 16px;\n}\n.dia_title label[data-v-9b43d540]{\n  vertical-align: top;\n  height: 44px;\n  line-height: 44px;\n}\n.dia_title span[data-v-9b43d540]{\n  display: inline-block;\n  height: 44px;\n  line-height: 44px;\n  font-size: 18px;\n  font-weight: bold;\n  text-align: center;\n  flex: 1;\n}\n.dia_con[data-v-9b43d540]{\n  width: 100%;\n  flex: 1;\n  overflow-y: scroll;\n}\n.sitem[data-v-9b43d540]{\n  height: 22px;\n  line-height: 22px;\n  padding: 16px;\n}\n.sitem input[data-v-9b43d540]{\n  width: 16px;\n  height: 16px;\n  margin: 3px 10px 3px 0px;\n}\n.sitem[data-v-9b43d540]:active{\n  background: rgba(0,0,0,0.3);\n}\n.sitem span[data-v-9b43d540]{\n  vertical-align: top;\n}\n.toasts[data-v-9b43d540]{\n  background: rgba(0,0,0,0.6);\n  border-radius: 6px;\n  padding: 6px 12px;\n  position: fixed;\n  bottom: 100px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 999;\n  color: white;\n}\n.toast-enter-from[data-v-9b43d540],\n.toast-leave-to[data-v-9b43d540]{\n  transform: translateX(-50%) scale(0);\n}\n.toast-enter-active[data-v-9b43d540],\n.toast-leave-active[data-v-9b43d540]{\n  transition: all .2s ease;\n}\n","",{version:3,sources:["webpack://./src/pages/admin/create.vue"],names:[],mappings:";AA2MA;EACE,mBAAmB;EACnB,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,wBAAwB;AAC1B;AACA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,6CAA6C;EAC7C,kBAAkB;EAClB,UAAU;EACV,2CAA2C;AAC7C;AACA;EACE,SAAS;EACT,OAAO;EACP,WAAW;EACX,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,kBAAkB;AACpB;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,WAAW;EACX,cAAc;EACd,UAAU;EACV,WAAW;EACX,6BAA6B;EAC7B,+BAA+B;EAC/B,0BAA0B;EAC1B,YAAY;AACd;AACA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;EACd,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,gBAAgB;EAChB,mBAAmB;AACrB;AACA;EACE,cAAc;EACd,YAAY;EACZ,aAAa;EACb,YAAY;EACZ,wBAAwB;EACxB,YAAY;EACZ,wBAAwB;EACxB,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;AAChB;AACA;EACE,cAAc;AAChB;AACA;EACE,iBAAiB;EACjB,WAAW;AACb;AACA;EACE,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,YAAY;EACZ,2CAA2C;EAC3C,kBAAkB;AACpB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,qBAAqB;EACrB,YAAY;EACZ,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;AAChB;AACA;EACE,YAAY;EACZ,QAAQ;EACR,OAAO;EACP,aAAa;EACb,YAAY;EACZ,cAAc;AAChB;AACA;EACE,eAAe;EACf,gBAAgB;EAChB,cAAc;AAChB;AACA;EACE,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,cAAc;EACd,WAAW;EACX,WAAW;EACX,mBAAmB;EACnB,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;AACA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,cAAc;EACd,WAAW;EACX,WAAW;EACX,mBAAmB;EACnB,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;AACA;EACE,WAAW;EACX,cAAc;EACd,UAAU;EACV,YAAY;EACZ,mBAAmB;EACnB,kBAAkB;EAClB,QAAQ;EACR,UAAU;AACZ;AACA;EACE,cAAc;EACd,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;EACd,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,gBAAgB;AAClB;AACA;EACE,WAAW;EACX,cAAc;EACd,UAAU;EACV,WAAW;EACX,6BAA6B;EAC7B,+BAA+B;EAC/B,kBAAkB;EAClB,SAAS;EACT,WAAW;EACX,yBAAyB;AAC3B;AACA;EACE,YAAY;EACZ,2BAA2B;EAC3B,mBAAmB;EACnB,mBAAmB;EACnB,eAAe;EACf,wBAAwB;EACxB,gBAAgB;EAChB,iBAAiB;EACjB,cAAc;EACd,kBAAkB;AACpB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,mBAAmB;AACrB;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,2BAA2B;EAC3B,kBAAkB;EAClB,MAAM;EACN,OAAO;AACT;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,kBAAkB;EAClB,iBAAiB;EACjB,QAAQ;EACR,UAAU;EACV,WAAW;EACX,wBAAwB;EACxB,6BAA6B;EAC7B,kBAAkB;EAClB,2CAA2C;EAC3C,2BAA2B;EAC3B,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,2CAA2C;AAC7C;AACA;EACE,WAAW;EACX,YAAY;EACZ,2BAA2B;AAC7B;AACA;EACE,mBAAmB;EACnB,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,qBAAqB;EACrB,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,iBAAiB;EACjB,kBAAkB;EAClB,OAAO;AACT;AACA;EACE,WAAW;EACX,OAAO;EACP,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,aAAa;AACf;AACA;EACE,WAAW;EACX,YAAY;EACZ,wBAAwB;AAC1B;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,mBAAmB;AACrB;AAEA;EACE,2BAA2B;EAC3B,kBAAkB;EAClB,iBAAiB;EACjB,eAAe;EACf,aAAa;EACb,SAAS;EACT,2BAA2B;EAC3B,YAAY;EACZ,YAAY;AACd;AACA;;EAEE,oCAAoC;AACtC;AACA;;EAEE,wBAAwB;AAC1B",sourcesContent:['<template>\n  <div class="content">\n    <div class="titlebar"><span @click="pageback"></span>创建题目</div>\n    <div class="body" ref="body">\n      <div class="subtitle">填写题目</div>\n      <div class="input1"><textarea placeholder="请填写题目" v-model="question"></textarea></div>\n      <div class="subtitle">填写选项</div>\n      <div class="itemarea">\n        <div v-for="(item,index) in list" :key="index" class="item">\n          <span>{{item.letter}}</span>\n          <input type="text" v-model="item.text" placeholder="请填写选项"/>\n          <li @click="deleteitem(index)"></li>\n        </div>\n      </div>\n      <div class="add"><span @click="additem"></span></div>\n      <div class="subtitle">添加答案</div>\n      <div class="selectitem" style="white-space:pre;" @click="selectitem">{{answertype}}<span>{{sletterstr}}</span></div>\n    </div>\n    <div class="submit" :class="{\'submit-on\':cansubmit}" @click="submitdata">上传至题库</div>\n    <div class="dialog" v-show="dialog" @click="dialog=false">\n      <div class="items" @click.stop>\n        <div class="dia_title"><div @click="quanxuanclick"><input type="checkbox" v-model="selectall"/><label>全选</label></div><span>选择一项或多项</span></div>\n        <div class="dia_con">\n          <div v-for="(item,index) in list" :key="index" class="sitem" @click="sitemclick(index)">\n            <input type="checkbox" name="selectitem" :value="item.letter" :checked="item.isanswer"/><span>{{item.letter+\'.&nbsp;\'+item.text}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <transition name="toast">\n    <div class="toasts" v-show="toast">{{toasttext}}</div>\n    </transition>\n  </div>\n</template>\n<script>\nexport default {\n  props:{\'addr\':"",\'id\':{default:-1}},\n  data(){\n    return {\n      list:[{letter:"A",text:"",isanswer:false},{letter:"B",text:"",isanswer:false}],\n      dialog:false,\n      selectall:false,\n      sletter:"",\n      answertype:"(    )",\n\n      question:"",\n\n      toast:false,\n      toasttext:"上传成功",\n\n      myid:this.id,\n    }\n  },\n  computed:{\n    sletterstr(){\n      return this.stringCheckLen(this.sletter,19);\n    },\n    cansubmit(){\n      if(!this.question)return false;\n      if(!this.sletter)return false;\n      for(let i=0;i<this.list.length;i++){\n        if(!this.list[i].text)return false;\n      }\n      return true;\n    },\n  },\n  watch:{\n    sletter(){\n      if(this.sletter.length>1)this.answertype="(多选)";\n      else if(this.sletter.length==1)this.answertype="(单选)";\n      else this.answertype="(    )";\n    },\n  },\n  mounted(){\n    if(this.myid&&this.myid>=0)this.getData(this.myid);\n  },\n  methods:{\n    pageback(e){\n      this.$router.back();\n    },\n    additem(e){\n      let letter = this.list[this.list.length-1].letter.codePointAt(0);\n      this.list.push({letter:String.fromCodePoint(letter+1),text:"",isanswer:false});\n      this.selectall = false;\n      this.$nextTick(()=>{\n        this.scrollToBottom();\n      });\n    },\n    deleteitem(i){\n      if(this.list.length>1){\n        let c = true;\n        this.list.splice(i,1);\n        for(let i=0;i<this.list.length;i++){\n          this.list[i].letter = String.fromCodePoint(65+i);\n          if(!this.list[i].isanswer){\n            c = false;\n          }\n        }\n        this.selectall = c;\n      }else{\n        this.list = [{letter:"A",text:"",isanswer:false}];\n      }\n    },\n    selectitem(e){\n      this.dialog = true;\n    },\n    sitemclick(i){\n      this.list[i].isanswer = !this.list[i].isanswer;\n      let c = true;\n      this.sletter = \'\';\n      for(let i=0;i<this.list.length;i++){\n        if(!this.list[i].isanswer){\n          c = false;\n        }else{\n          this.sletter = this.sletter+\',\'+this.list[i].letter;\n        }\n      }\n      this.sletter = this.sletter.substring(1);\n      this.selectall = c;\n    },\n    quanxuanclick(e){\n      this.selectall = !this.selectall;\n      if(this.selectall){\n        this.sletter = \'\';\n        for(let i=0;i<this.list.length;i++){\n          this.list[i].isanswer = true;\n          this.sletter = this.sletter+\',\'+this.list[i].letter;\n        }\n        this.sletter = this.sletter.substring(1);\n      }else{\n        this.sletter = \'\';\n        for(let i=0;i<this.list.length;i++)this.list[i].isanswer = false;\n      }\n    },\n    //\n    scrollToBottom(){\n      let h  = this.$refs.body.offsetHeight;\n      let sh = this.$refs.body.scrollHeight;\n      this.$refs.body.scrollTop = sh-h;\n    },\n    stringCheckLen(str,l){\n      if(str.length>l)return str.substring(0,l)+\'...\';\n      return str;\n    },\n    //\n    submitdata(){\n      if(!this.cansubmit)return;\n      let data = {question:this.question,options:[],answer:[],type:"create",id:this.myid,token:window.sessionStorage.getItem(\'mytoken\')};\n      for(let i=0;i<this.list.length;i++){\n        data.options.push(this.list[i].text);\n        if(this.list[i].isanswer)data.answer.push(i);\n      }\n      //fetch("http://localhost:8088/answer",{\n      fetch("/answer",{\n        method: \'POST\',\n        headers: {\n          //"Content-type": "application/x-www-form-urlencoded; charset=UTF-8",\n          "Content-type":"application/json; charset=utf-8",\n        },\n        body: JSON.stringify(data),\n      }).then(res=>res.json()).then(json=>{\n        console.log(json);\n        if(json.state==\'ok\'){\n          this.toasttext = "上传成功！";\n          this.myid = json.id;\n        }else if(json.state==\'exists\'){\n          this.toasttext = "题目已存在！";\n        }else{\n          this.toasttext = "上传失败！";\n        }\n        this.toast = true;\n        setTimeout(() => {\n          this.toast = false;\n        }, 2000);\n      });\n    },\n    getData(id){\n      //fetch("http://localhost:8088/answer",{\n      fetch("/answer",{\n        method: \'POST\',\n        headers: {\n          "Content-type":"application/json; charset=utf-8",\n        },\n        body: `{"type":"getbyid","id":"${id}","token":"${window.sessionStorage.getItem(\'mytoken\')}"}`,\n      }).then(res=>res.json()).then(json=>{\n        this.question = json.question;\n        this.list = [];\n        for(let i=0;i<json.options.length;i++){\n          this.list.push({letter:String.fromCodePoint(65+i),text:json.options[i],isanswer:false});\n        }\n        this.sletter=\'\';\n        for(let i=0;i<json.answer.length;i++){\n          this.list[json.answer[i]].isanswer = true;\n          this.sletter = this.sletter+\',\'+this.list[json.answer[i]].letter;\n        }\n        this.sletter = this.sletter.substring(1);\n        //console.log(json)\n      });\n    },\n  },\n}\n<\/script>\n<style scoped>\n.content{\n  background: #F2F2F2;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  font-family: PingFang SC;\n}\n.titlebar{\n  height: 44px;\n  font-size: 17px;\n  font-weight: 500;\n  line-height: 44px;\n  color: #000000;\n  text-align: center;\n  background: white;\n  border-bottom: 0.5px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n  z-index: 1;\n  box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.3);\n}\n.body{\n  height: 0;\n  flex: 1;\n  width: 100%;\n  overflow-y: scroll;\n}\n.titlebar span{\n  width: 44px;\n  height: 44px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  border-radius: 50%;\n}\n.titlebar span:active{\n  background: rgba(0,0,0,0.3);\n}\n.titlebar span::before{\n  content: \'\';\n  display: block;\n  width: 8px;\n  height: 8px;\n  border-top: 2px solid #888888;\n  border-right: 2px solid #888888;\n  transform: rotateZ(225deg);\n  margin: 15px;\n}\n.subtitle{\n  height: 54px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 54px;\n  color: #383838;\n  padding: 0 16px;\n  overflow: hidden;\n}\n.input1{\n  width: 100%;\n  height: 80px;\n  background: white;\n  overflow: hidden;\n  margin-bottom: 18px;\n}\n.input1 textarea{\n  display: block;\n  margin: 16px;\n  outline: none;\n  border: none;\n  width: calc(100% - 32px);\n  height: 48px;\n  font-family: PingFang SC;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 22px;\n  color: #333333;\n}\n.input1 textarea::placeholder{\n  color: #B2B2B2;\n}\n.itemarea{\n  background: white;\n  width: 100%;\n}\n.item{\n  display: flex;\n  flex-direction: row;\n  margin-left: 16px;\n  height: 56px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n}\n.item:last-child{\n  border-bottom: none;\n}\n.item span{\n  display: inline-block;\n  height: 56px;\n  width: 21px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 56px;\n  color: #383838;\n}\n.item input{\n  height: 100%;\n  width: 0;\n  flex: 1;\n  outline: none;\n  border: none;\n  padding: 0 6px;\n}\n.item input::placeholder{\n  font-size: 16px;\n  font-weight: 400;\n  color: #B2B2B2;\n}\n.item li{\n  list-style:none;\n  display: block;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #333333;\n  border-radius: 50%;\n}\n.item li::before{\n  content: \'\';\n  display: block;\n  width: 12px;\n  height: 2px;\n  background: #333333;\n  position: absolute;\n  top: 9px;\n  right: 4px;\n}\n.add{\n  height: 54px;\n  width: 100%;\n  position: relative;\n}\n.add span{\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #333333;\n  border-radius: 50%;\n}\n.add span::before{\n  content: \'\';\n  display: block;\n  width: 12px;\n  height: 2px;\n  background: #333333;\n  position: absolute;\n  top: 9px;\n  right: 4px;\n}\n.add span::after{\n  content: \'\';\n  display: block;\n  width: 2px;\n  height: 12px;\n  background: #333333;\n  position: absolute;\n  top: 4px;\n  right: 9px;\n}\n.selectitem{\n  display: block;\n  height: 56px;\n  font-size: 16px;\n  font-weight: 400;\n  line-height: 56px;\n  color: #383838;\n  padding-left: 16px;\n  background: white;\n  position: relative;\n}\n.selectitem span{\n  height: 56px;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 56px;\n  color: #0F5DFB;\n  float: right;\n  margin-right: 40px;\n  max-width: 200px;\n  overflow: hidden;\n}\n.selectitem::after{\n  content: \'\';\n  display: block;\n  width: 8px;\n  height: 8px;\n  border-top: 2px solid #888888;\n  border-right: 2px solid #888888;\n  position: absolute;\n  top: 23px;\n  right: 21px;\n  transform: rotateZ(45deg);\n}\n.submit{\n  height: 56px;\n  margin: 20px 16px 34px 16px;\n  background: #acc4f4;\n  border-radius: 12px;\n  font-size: 20px;\n  font-family: PingFang SC;\n  font-weight: 500;\n  line-height: 56px;\n  color: #FFFFFF;\n  text-align: center;\n}\n.submit-on{\n  background: #0F5DFB;\n}\n.submit-on:active{\n  background: #0d45b4;\n}\n\n.dialog{\n  display: block;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  background: rgba(0,0,0,0.3);\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.items{\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background: white;\n  top: 50%;\n  left: 32px;\n  right: 32px;\n  width: calc(100% - 64px);\n  max-height: calc(100% - 64px);\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px 0px rgba(0,0,0,0.3);\n  transform: translateY(-50%);\n  overflow-y: scroll;\n}\n.dia_title{\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n}\n.dia_title input{\n  width: 16px;\n  height: 16px;\n  margin: 14px 10px 14px 16px;\n}\n.dia_title label{\n  vertical-align: top;\n  height: 44px;\n  line-height: 44px;\n}\n.dia_title span{\n  display: inline-block;\n  height: 44px;\n  line-height: 44px;\n  font-size: 18px;\n  font-weight: bold;\n  text-align: center;\n  flex: 1;\n}\n.dia_con{\n  width: 100%;\n  flex: 1;\n  overflow-y: scroll;\n}\n.sitem{\n  height: 22px;\n  line-height: 22px;\n  padding: 16px;\n}\n.sitem input{\n  width: 16px;\n  height: 16px;\n  margin: 3px 10px 3px 0px;\n}\n.sitem:active{\n  background: rgba(0,0,0,0.3);\n}\n.sitem span{\n  vertical-align: top;\n}\n\n.toasts{\n  background: rgba(0,0,0,0.6);\n  border-radius: 6px;\n  padding: 6px 12px;\n  position: fixed;\n  bottom: 100px;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 999;\n  color: white;\n}\n.toast-enter-from,\n.toast-leave-to{\n  transform: translateX(-50%) scale(0);\n}\n.toast-enter-active,\n.toast-leave-active{\n  transition: all .2s ease;\n}\n</style>\n'],sourceRoot:""}]);const a=l},24:(n,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>y});var i=e(361),s=e(864),A=e(661),l=(0,i.HX)("data-v-9b43d540");(0,i.dD)("data-v-9b43d540");var a={class:"content"},o={class:"titlebar"},r=(0,i.Uk)("创建题目"),d={class:"body",ref:"body"},h=(0,i.Wm)("div",{class:"subtitle"},"填写题目",-1),p={class:"input1"},c=(0,i.Wm)("div",{class:"subtitle"},"填写选项",-1),C={class:"itemarea"},x={class:"add"},g=(0,i.Wm)("div",{class:"subtitle"},"添加答案",-1),B={class:"dia_title"},b=(0,i.Wm)("label",null,"全选",-1),u=(0,i.Wm)("span",null,"选择一项或多项",-1),E={class:"dia_con"};(0,i.Cn)();var f=l((function(n,t,e,f,m,w){return(0,i.wg)(),(0,i.j4)("div",a,[(0,i.Wm)("div",o,[(0,i.Wm)("span",{onClick:t[1]||(t[1]=function(){return w.pageback&&w.pageback.apply(w,arguments)})}),r]),(0,i.Wm)("div",d,[h,(0,i.Wm)("div",p,[(0,i.wy)((0,i.Wm)("textarea",{placeholder:"请填写题目","onUpdate:modelValue":t[2]||(t[2]=function(n){return m.question=n})},null,512),[[s.nr,m.question]])]),c,(0,i.Wm)("div",C,[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(m.list,(function(n,t){return(0,i.wg)(),(0,i.j4)("div",{key:t,class:"item"},[(0,i.Wm)("span",null,(0,A.zw)(n.letter),1),(0,i.wy)((0,i.Wm)("input",{type:"text","onUpdate:modelValue":function(t){return n.text=t},placeholder:"请填写选项"},null,8,["onUpdate:modelValue"]),[[s.nr,n.text]]),(0,i.Wm)("li",{onClick:function(n){return w.deleteitem(t)}},null,8,["onClick"])])})),128))]),(0,i.Wm)("div",x,[(0,i.Wm)("span",{onClick:t[3]||(t[3]=function(){return w.additem&&w.additem.apply(w,arguments)})})]),g,(0,i.Wm)("div",{class:"selectitem",style:{"white-space":"pre"},onClick:t[4]||(t[4]=function(){return w.selectitem&&w.selectitem.apply(w,arguments)})},[(0,i.Uk)((0,A.zw)(m.answertype),1),(0,i.Wm)("span",null,(0,A.zw)(w.sletterstr),1)])],512),(0,i.Wm)("div",{class:["submit",{"submit-on":w.cansubmit}],onClick:t[5]||(t[5]=function(){return w.submitdata&&w.submitdata.apply(w,arguments)})},"上传至题库",2),(0,i.wy)((0,i.Wm)("div",{class:"dialog",onClick:t[9]||(t[9]=function(n){return m.dialog=!1})},[(0,i.Wm)("div",{class:"items",onClick:t[8]||(t[8]=(0,s.iM)((function(){}),["stop"]))},[(0,i.Wm)("div",B,[(0,i.Wm)("div",{onClick:t[7]||(t[7]=function(){return w.quanxuanclick&&w.quanxuanclick.apply(w,arguments)})},[(0,i.wy)((0,i.Wm)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(n){return m.selectall=n})},null,512),[[s.e8,m.selectall]]),b]),u]),(0,i.Wm)("div",E,[((0,i.wg)(!0),(0,i.j4)(i.HY,null,(0,i.Ko)(m.list,(function(n,t){return(0,i.wg)(),(0,i.j4)("div",{key:t,class:"sitem",onClick:function(n){return w.sitemclick(t)}},[(0,i.Wm)("input",{type:"checkbox",name:"selectitem",value:n.letter,checked:n.isanswer},null,8,["value","checked"]),(0,i.Wm)("span",null,(0,A.zw)(n.letter+". "+n.text),1)],8,["onClick"])})),128))])])],512),[[s.F8,m.dialog]]),(0,i.Wm)(s.uT,{name:"toast"},{default:l((function(){return[(0,i.wy)((0,i.Wm)("div",{class:"toasts"},(0,A.zw)(m.toasttext),513),[[s.F8,m.toast]])]})),_:1})])}));const m={props:{addr:"",id:{default:-1}},data:function(){return{list:[{letter:"A",text:"",isanswer:!1},{letter:"B",text:"",isanswer:!1}],dialog:!1,selectall:!1,sletter:"",answertype:"(    )",question:"",toast:!1,toasttext:"上传成功",myid:this.id}},computed:{sletterstr:function(){return this.stringCheckLen(this.sletter,19)},cansubmit:function(){if(!this.question)return!1;if(!this.sletter)return!1;for(var n=0;n<this.list.length;n++)if(!this.list[n].text)return!1;return!0}},watch:{sletter:function(){this.sletter.length>1?this.answertype="(多选)":1==this.sletter.length?this.answertype="(单选)":this.answertype="(    )"}},mounted:function(){this.myid&&this.myid>=0&&this.getData(this.myid)},methods:{pageback:function(n){this.$router.back()},additem:function(n){var t=this,e=this.list[this.list.length-1].letter.codePointAt(0);this.list.push({letter:String.fromCodePoint(e+1),text:"",isanswer:!1}),this.selectall=!1,this.$nextTick((function(){t.scrollToBottom()}))},deleteitem:function(n){if(this.list.length>1){var t=!0;this.list.splice(n,1);for(var e=0;e<this.list.length;e++)this.list[e].letter=String.fromCodePoint(65+e),this.list[e].isanswer||(t=!1);this.selectall=t}else this.list=[{letter:"A",text:"",isanswer:!1}]},selectitem:function(n){this.dialog=!0},sitemclick:function(n){this.list[n].isanswer=!this.list[n].isanswer;var t=!0;this.sletter="";for(var e=0;e<this.list.length;e++)this.list[e].isanswer?this.sletter=this.sletter+","+this.list[e].letter:t=!1;this.sletter=this.sletter.substring(1),this.selectall=t},quanxuanclick:function(n){if(this.selectall=!this.selectall,this.selectall){this.sletter="";for(var t=0;t<this.list.length;t++)this.list[t].isanswer=!0,this.sletter=this.sletter+","+this.list[t].letter;this.sletter=this.sletter.substring(1)}else{this.sletter="";for(var e=0;e<this.list.length;e++)this.list[e].isanswer=!1}},scrollToBottom:function(){var n=this.$refs.body.offsetHeight,t=this.$refs.body.scrollHeight;this.$refs.body.scrollTop=t-n},stringCheckLen:function(n,t){return n.length>t?n.substring(0,t)+"...":n},submitdata:function(){var n=this;if(this.cansubmit){for(var t={question:this.question,options:[],answer:[],type:"create",id:this.myid,token:window.sessionStorage.getItem("mytoken")},e=0;e<this.list.length;e++)t.options.push(this.list[e].text),this.list[e].isanswer&&t.answer.push(e);fetch("/answer",{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).then((function(n){return n.json()})).then((function(t){console.log(t),"ok"==t.state?(n.toasttext="上传成功！",n.myid=t.id):"exists"==t.state?n.toasttext="题目已存在！":n.toasttext="上传失败！",n.toast=!0,setTimeout((function(){n.toast=!1}),2e3)}))}},getData:function(n){var t=this;fetch("/answer",{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:'{"type":"getbyid","id":"'.concat(n,'","token":"').concat(window.sessionStorage.getItem("mytoken"),'"}')}).then((function(n){return n.json()})).then((function(n){t.question=n.question,t.list=[];for(var e=0;e<n.options.length;e++)t.list.push({letter:String.fromCodePoint(65+e),text:n.options[e],isanswer:!1});t.sletter="";for(var i=0;i<n.answer.length;i++)t.list[n.answer[i]].isanswer=!0,t.sletter=t.sletter+","+t.list[n.answer[i]].letter;t.sletter=t.sletter.substring(1)}))}}};var w=e(574),k=e.n(w),v=e(293);k()(v.Z,{insert:"head",singleton:!1}),v.Z.locals,m.render=f,m.__scopeId="data-v-9b43d540";const y=m}}]);
//# sourceMappingURL=919.bundle.js.map